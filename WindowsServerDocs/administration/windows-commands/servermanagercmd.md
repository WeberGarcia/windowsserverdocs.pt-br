---
title: Servermanagercmd
description: Tópico de comandos do Windows para * * * *-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 507c4b87-8e13-4872-8b34-0c7508eecbc1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: fbc55445c30fe5f29fb416aff5223f35f32a642e
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/08/2020
ms.locfileid: "80834639"
---
# <a name="servermanagercmd"></a>Servermanagercmd

>Aplicável a: Windows Server (canal semestral), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

> [!IMPORTANT]
> Esse comando está disponível somente em servidores que executam o Windows Server 2008 ou o Windows Server 2008 R2. O **ServerManagerCmd. exe** foi preterido e não está disponível no Windows Server 2012. Para obter informações sobre como instalar ou remover funções, serviços de função e recursos no Windows Server 2012, consulte [instalar ou desinstalar funções, serviços de função e recursos](https://go.microsoft.com/fwlink/?LinkID=239563) no Microsoft TechNet.

Instala e remove funções, serviços de função e recursos. Também exibe a lista de todas as funções, serviços de função e recursos disponíveis e mostra quais estão instalados neste computador. Para obter informações adicionais sobre as funções, serviços de função e recursos que você pode especificar usando essa ferramenta, consulte a [ajuda do Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137387). Para obter exemplos de como usar esse comando, consulte [Exemplos](#BKMK_examples).

## <a name="syntax"></a>Sintaxe
```
servermanagercmd -query [[[<Drive>:]<path>]<query.xml>] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -inputpath  [[<Drive>:]<path>]<answer.xml> [-resultpath <result.xml> [-restart] | -whatif] [-logpath [[<Drive>:]<path>]<log.txt>]
servermanagercmd -install <Id> [-allSubFeatures] [-resultpath   [[<Drive>:]<path>]<result.xml> [-restart] | -whatif] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -remove <Id> [-resultpath    <result.xml> [-restart] | -whatif] [-logpath  [[<Drive>:]<path>]<log.txt>]
servermanagercmd [-help | -?]
servermanagercmd -version
```

### <a name="parameters"></a>Parâmetros

|                   Parâmetro                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  -Query [[[\<unidade >:]\<caminho >]\<*Query. xml*>]   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Exibe uma lista de todas as funções, serviços de função e recursos instalados e disponíveis para instalação no servidor. Você também pode usar a forma abreviada desse parâmetro, **-q**. Se você quiser que os resultados da consulta sejam salvos em um arquivo XML, especifique um arquivo XML para substituir *Query. xml*.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -inputPath < [[\<unidade >:]\<caminho >]*answer. xml*> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Instala ou remove as funções, os serviços de função e os recursos especificados em um arquivo de resposta XML representado por *answer. xml*. Você também pode usar a forma abreviada desse parâmetro, **-p.**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                -instalar a *ID* de \<>                | Instala a função, o serviço de função ou o recurso especificado pela *ID*. Os identificadores não diferenciam maiúsculas de minúsculas. Várias funções, serviços de função e recursos devem ser separados por espaços. Os parâmetros opcionais a seguir são usados com o parâmetro **-install** .<p>-    **-setting** \<*configuraname*>=\<*definirvalue*> especifica as configurações necessárias para a instalação.<br />-    **-allSubFeatures** especifica a instalação de todos os serviços e recursos subordinados, juntamente com a função pai, o serviço de função ou o recurso nomeado no valor de *ID* . **Observação:**     Alguns contêineres de função não têm um identificador de linha de comando para permitir a instalação de todos os serviços de função. Esse é o caso quando os serviços de função não podem ser instalados na mesma instância do comando Gerenciador do Servidor. Por exemplo, o serviço de função Serviço de Federação dos serviços de Federação do Active Directory e o serviço de função Proxy do Serviço de Federação não podem ser instalados usando a mesma instância de comando Gerenciador do Servidor.<br />-    **-resultpath** \<*result. XML > salva os resultados da instalação em um arquivo xml representado por \*Result. xml*. Você também pode usar a forma abreviada desse parâmetro, **-r**. **Observação:**     Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-    **-** Restart reinicia o computador automaticamente quando a instalação for concluída (se a reinicialização for necessária para as funções ou recursos instalados).<br />-    **-WhatIf** exibe todas as operações especificadas para o parâmetro **-install** . Você também pode usar a forma abreviada do parâmetro **-WhatIf** , **-w**. Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-    **-logpath** \<[[\<unidade >:]\<caminho >]*log. txt*> especifica um nome e um local para o arquivo de log, diferente do padrão, **%windir%\temp\servermanager.log**. |
|                -remover a *ID* de \<>                 |                                                                                                                                                                                                                                                                                                                                                                     Remove a função, o serviço de função ou o recurso especificado pela *ID*. Os identificadores não diferenciam maiúsculas de minúsculas. Várias funções, serviços de função e recursos devem ser separados por espaços. Os parâmetros opcionais a seguir são usados com o parâmetro **-Remove** .<p>-    **-resultpath** \<[[\<unidade >:]\<caminho >]*result. xml*> salva os resultados da remoção em um arquivo XML representado por *Result. xml*. Você também pode usar a forma abreviada desse parâmetro, **-r**. **Observação:**     Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-    **-** Restart reinicia o computador automaticamente quando a remoção é concluída (se a reinicialização for necessária para funções ou recursos restantes).<br />-    **-WhatIf** exibe todas as operações especificadas para o parâmetro **-Remove** . Você também pode usar a forma abreviada do parâmetro **-WhatIf** , **-w**. Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-    **-logpath**\<[[\<unidade >:]\<caminho >]*log. txt*> especifica um nome e um local para o arquivo de log, diferente do padrão, **%windir%\temp\servermanager.log**.                                                                                                                                                                                                                                                                                                                                                                      |
|                     -ajuda                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Exibe a ajuda na janela de prompt de comando. Você também pode usar a forma abreviada, **-?** .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    -versão                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Exibe o número de versão do Gerenciador do Servidor. Você também pode usar a forma abreviada, **-v**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="remarks"></a>Comentários
O **ServerManagerCmd** foi preterido e não há garantia de que haja suporte em versões futuras do Windows. Recomendamos que, se você estiver executando Gerenciador do Servidor em computadores que executam o Windows Server 2008 R2, use os cmdlets do Windows PowerShell que estão disponíveis para Gerenciador do Servidor. Para obter mais informações, consulte [cmdlets Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137653).
O ServerManagerCmd pode ser executado de qualquer diretório nas unidades locais do servidor. Você deve ser um membro do grupo Administradores no servidor no qual deseja instalar ou remover o software.

> [!IMPORTANT]
> Devido às restrições de segurança impostas pelo controle de conta de usuário no Windows Server 2008 R2, você deve executar o **ServerManagerCmd** em uma janela de prompt de comando aberta com permissões elevadas. Para fazer isso, clique com o botão direito do mouse no executável do prompt de comando ou no objeto do **prompt de comando** no menu **Iniciar** e clique em **Executar como administrador**.

## <a name="examples"></a><a name=BKMK_examples></a>Disso
O exemplo a seguir mostra como usar o **ServerManagerCmd** para exibir uma lista de todas as funções, serviços de função e recursos disponíveis e quais funções, serviços de função e recursos estão instalados no computador.
```
servermanagercmd -query
```
O exemplo a seguir mostra como usar o **ServerManagerCmd** para instalar a função do servidor Web (IIS) e salvar os resultados da instalação em um arquivo XML representado por *installResult. xml*.
```
servermanagercmd -install Web-Server -resultpath installResult.xml
```
O exemplo a seguir mostra como usar o parâmetro **WhatIf** com o **ServerManagerCmd** para exibir informações detalhadas sobre as funções, os serviços de função e os recursos que seriam instalados ou removidos, com base nas instruções especificadas em um arquivo de resposta XML representado por *install. xml*.
```
servermanagercmd -inputpath install.xml -whatif
```

## <a name="additional-references"></a>Referências adicionais
-   para obter uma lista completa dos identificadores de função, serviço de função ou recurso que você pode especificar para o parâmetro de *ID* ou mais informações sobre como usar um arquivo de resposta XML com o **ServerManagerCmd**, consulte a [ajuda do Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137387). (https://go.microsoft.com/fwlink/?LinkID=137387).
-   Consulte [Gerenciador do servidor cmdlets](https://go.microsoft.com/fwlink/?LinkID=137653) para obter uma lista de cmdlets do Windows PowerShell que estão disponíveis para Gerenciador do servidor.
-   - [Chave da sintaxe de linha de comando](command-line-syntax-key.md)
